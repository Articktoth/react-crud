(this.webpackJsonpreactportfolio=this.webpackJsonpreactportfolio||[]).push([[0],{39:function(e,t,a){e.exports=a(71)},44:function(e,t,a){},45:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(35),r=a.n(c),s=(a(44),a(45),a(5)),l=a(6),i=a(8),u=a(7),d=a(9),m=a(11),h=a(14),f=a(12),p=a.n(f),v={url:"https://todoapp-toth.herokuapp.com/api/"},E=a(18),b=a(22),g=a(36),j=a.n(g),O=(a(68),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).url=v.url,a.state={todos:[],status:null},a.getTodos=function(){p.a.get(a.url+"get-all-todo").then((function(e){a.setState({todos:e.data.todos})}))},a.getTodo=function(){var e=a.state.todos._id;p.a.get(a.url+"todo/"+e).then((function(e){a.setState({todo:e.data.article,status:"success"})})).catch((function(e){a.setState({todo:!1,status:"success"})}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.getTodos()}},{key:"render",value:function(){if(this.state.todos.length>=1){var e=this.state.todos.map((function(e){return o.a.createElement("div",{className:"todos",key:e._id},o.a.createElement("div",{className:"todo"},o.a.createElement("h2",{className:"todo-name"},e.name),o.a.createElement("p",{className:"todo-description"},e.description),o.a.createElement(j.a,{locale:"es",fromNow:!0,className:"date"},e.date),o.a.createElement("div",{className:"icons"},o.a.createElement(m.b,{to:"/edit/"+e._id},o.a.createElement(E.a,{className:"icon icon-edit",icon:b.a})),o.a.createElement(m.b,{to:"/delete/"+e._id}," ",o.a.createElement(E.a,{className:"icon icon-trash",icon:b.b})," "))))}));return o.a.createElement("div",null,e)}return 0===this.state.todos.length&&null===this.state.status?o.a.createElement("div",{className:"no-list"},o.a.createElement("h2",null,"No hay tareas para mostrar")):o.a.createElement("h2",null,"Cargando...")}}]),t}(n.Component)),y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).url=v.url,a.nameRef=o.a.createRef(),a.descriptionRef=o.a.createRef(),a.state={todo:{},status:null},a.changeState=function(){a.setState({todo:{name:a.nameRef.current.value,description:a.descriptionRef.current.value}})},a.saveTodo=function(e){e.preventDefault(),a.changeState(),p.a.post(a.url+"create",a.state.todo).then((function(e){e.data.todo?a.setState({todo:e.data.todo,status:"success"}):a.setState({status:"failed"})}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"success"===this.state.status?o.a.createElement(h.a,{to:"/"}):o.a.createElement("form",{onSubmit:this.saveTodo},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{type:"text",ref:this.nameRef,name:"name",onChange:this.changeState})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"description"},"Description"),o.a.createElement("textarea",{ref:this.descriptionRef,name:"description",onChange:this.changeState})),o.a.createElement("input",{type:"submit",value:"Save"}))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).url=v.url,a.todoId=null,a.nameRef=o.a.createRef(),a.descriptionRef=o.a.createRef(),a.state={todo:{},status:null},a.getTodo=function(e){p.a.get(a.url+"get-todo/"+e).then((function(e){a.setState({todo:e.data.todo})}))},a.changeState=function(){a.setState({todo:{name:a.nameRef.current.value,description:a.descriptionRef.current.value}})},a.saveTodo=function(e){e.preventDefault(),a.changeState(),p.a.put(a.url+"update/"+a.todoId,a.state.todo).then((function(e){e.data.todo?a.setState({todo:e.data.todo,status:"success"}):a.setState({status:"failed"})}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.todoId=this.props.match.params.id,this.getTodo(this.todoId)}},{key:"render",value:function(){var e=this.state.todo;return"success"===this.state.status?o.a.createElement(h.a,{to:"/"}):o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.saveTodo},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{type:"text",defaultValue:e.name,ref:this.nameRef,name:"name",onChange:this.changeState})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"description"},"Description"),o.a.createElement("textarea",{ref:this.descriptionRef,defaultValue:e.description,name:"description",onChange:this.changeState})),o.a.createElement("input",{type:"submit",value:"Save"})))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).url=v.url,a.todoId=null,a.nameRef=o.a.createRef(),a.descriptionRef=o.a.createRef(),a.state={todo:{},status:null},a.getTodo=function(e){p.a.get(a.url+"get-todo/"+e).then((function(e){a.setState({todo:e.data.todo})}))},a.changeState=function(){a.setState({todo:{name:a.nameRef.current.value,description:a.descriptionRef.current.value}})},a.deleteTodo=function(){p.a.delete(a.url+"delete/"+a.todoId,a.state.todo).then((function(e){a.setState({todos:e.data.todos,status:"deleted"})}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.todoId=this.props.match.params.id,this.getTodo(this.todoId),this.deleteTodo()}},{key:"render",value:function(){return"deleted"===this.state.status?o.a.createElement(h.a,{to:"/"}):o.a.createElement("h2",null,"Deleted...")}}]),t}(n.Component),N=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{className:"nav"},o.a.createElement(m.c,{className:"link",to:"/"},"Inicio"),o.a.createElement(m.c,{className:"link",to:"/create"},"Crear tarea"))}}]),t}(n.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(m.a,null,o.a.createElement(N,null),o.a.createElement(h.d,null,o.a.createElement(h.b,{exact:!0,path:"/",component:O}),o.a.createElement(h.b,{exact:!0,path:"/todos",component:O}),o.a.createElement(h.b,{exact:!0,path:"/create",component:y}),o.a.createElement(h.b,{exact:!0,path:"/delete/:id",component:R}),o.a.createElement(h.b,{exact:!0,path:"/edit/:id",component:S})))}}]),t}(n.Component);var w=function(){return o.a.createElement("div",null,o.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.c09be8c3.chunk.js.map